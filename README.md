# tuya-smart
A practical small project of Tuya Smart
- This project is developed using Tuya SDK, which enables you to quickly develop branded apps connecting and controlling smart scenarios of many devices.For more information, please check Tuya Developer Website.
- 基于涂鸦SDK进行开发的学习型项目，它使您能够快速开发连接和控制许多智能场景的应用程序设备。更多信息请查看涂鸦开发者网站。
- 该项目使用STM32F407型号MCU结合Wi-Fi MCU 通信板（WB3S）实现远程联网控制，同时结合语音模块实现主人与宠物的互动。
## 一、方案名称
**Petnet1.0**
## 二、方案应用场景分析
- 由于疫情的突发,许多人突发性的被隔离或者是由于其他原因回不了家,家里空荡荡的,回不了家对于家里面有爱宠的"同志们"来说可是一种痛苦,只能活生生的看着爱宠们靠吃猫砂甚至塑料袋来度过,有的还甚至被饿死。而且当今社会中，人们的工作与学习是十分的繁忙，当人们外出时间比较长时对宠物的食物和水的供给就出出现了比较大的问题。特别是当人们出差在外或者是，旅游度假时，经常不能及时的对家中的宠物给予很好地照顾，宠物的饮食常常成为困扰人们主要问题。本装置就是针对此问题而设计的一种装置。他对家居智能化起到了积极地作用，在提高人们生活效率与乐趣的同时，也对人们的出行减少了后顾之忧。 毫无疑问，智能宠物喂食器不仅仅是一款智能设备，它更是连接主人与爱宠的纽带，而功能强大的APP将万千家庭集结到一起，相比单纯的产品，这种基于兴趣、圈子的应用与服务更能打动我们，未来智能宠物喂食器的APP还有很大优化的空间，而且还会基于游戏娱乐的基础之上进一步开拓空间。
## 三、适用人群
- 使用场所一般是人们所居住的室内，以及一些宠物饲养基地，面向的人群有饲养宠物者其中家中有宠物由于工作原因经常性出差人群是最主要的，还有就是一些大型宠物饲养基地。
## 四、项目具体方案
> 从物联网技术在宠物喂养上的应用出发，研究了一种基于物联网技术的智能宠物投喂器，此投喂器的功能包括对宠物实时或者定时喂食、利用录音和语音提醒宠物进食、残料自动清理等，这些功能利用stm32单片机对系统中的各个特殊功能进行控制，如通过H桥直流电机驱动功能板，直流供电电源板对步进电机下料控制、语言操控模块控制、电动推杆行程控制等，利用MATLAB技术实现了机器学习与对系统稳定性的测试。通过以上功能的结合便能较好的完成对宠物进行远程喂食的功能，实现对宠物的智能投喂，以及通过光电传感器（光电传感器由敏感元件、转换元件、基本电路三部分组成，其主要原理是光电效应。）来监测宠物的实时状况，现在食物平台放置少许食物，当宠物在盛放食物的停留2分钟以上即代表宠物正在进食，该投喂器将继续投喂适量食物，当宠物在平台上待了一段时间后检测器监测到宠物离开以后，投喂器自动将平台清空，并重新放置少许食物，其中传感器采集到的数据通过wifi上传到涂鸦iot平台并在涂鸦app进行显示,主人可在涂鸦app上实现远程投喂,监测喂食器的各种状态。其中投喂器的储存仓里具有保持干燥的装置。
## 五、基本功能
- 红外温度感应——通过感应动物体内的热量来判断爱宠是否在喂食器身边，从而进行自动出粮，一定程度上省去了主人手动或者远程喂食的操作 ,且夜晚进食还会自动打开小夜灯
- 喂食器采用双仓设计，粮食仓和水仓保证爱宠的健康饮食供应
- 测量出仓口的粮食余量和喂食器的粮食仓总量，目地是当出仓口的余量到达一定高度时自动喂食操作将会关闭，防止粮食溢出出仓口，还可显示余量状态
- 出仓口采用温湿度传感器模块检测粮食的环境状态，结合电机风扇对暴露在空气下的粮食进行吹干处理，预防粮食的发霉潮湿影响从而爱宠的身体健康
- 加入语音模块提升智能化,主人可通过指定的命令对小夜灯、风扇、控制粮食进出的电机的联动开关。
- 主人可通过app远程查看设备投喂状态,命令下发等功能,真正做到了在哪都能保护好自己的爱宠。
## 六、方案实施流程
![Image text](https://github.com/potato1643/tuya-smart/blob/main/images/Petnet.png)
## 七、开发计划
> 1.硬件搭建
>- 3.4-3.7 准备材料,器件选型及采购 
>- 3.7-3.9 Petnet外形制作与外壳图案绘制
>
> 2.软件开发
>- 3.10-3.12 学习涂鸦iot,如何移植mcu到stm32单片机上
>- 3.12-3.14 学习语音模块的使用，进行代码的移植
>- 3.15.3.22 开始实践工作,对喂食器进行设计,实现数据的采集,命令下发,数据上报等功能,并进行调试  
>
> 3.资料汇总
>- 3.23-3.24 整理汇总项目中所用单元的资料；回顾整个项目的关键技术点；书写思维导图对整个项目复盘
>- 3.24-3.25 录制视频,准备ppt进行讲解，项目完结
